stages:
  - deploy

deploy-job:
  stage: deploy
  environment: production
  script:
    - echo "Deploying application..."
    - ssh -tt cjsonic02@hulk.home '
        cd docker_files/WebApps/JobHunt && 
        git restore . &&
        git pull &&
        npm install &&
        docker build -t jobhunt . &&
        docker-compose down &&
        docker-compose up -d'
    - echo "Application successfully deployed."